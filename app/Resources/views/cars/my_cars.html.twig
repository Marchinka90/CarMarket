{% extends 'layouts/base.html.twig' %}

{% block body %}

<br><br><br><br>
{%  for msg in app.session.flashBag.get('success')  %}
    <div class="alert alert-success">
        {{ msg }}
    </div>
{%  endfor  %}

{%  for msg in app.session.flashBag.get('errors')  %}
    <div class="alert alert-danger">
        {{ msg }}
    </div>
{%  endfor  %}

<br><br><br><br>
<h1 class="col-lg-12 text-center">My Cars</h1>
<a class="btn btn-warning btn-xs float-right" href="{{ path('car_create') }}">New Car</a>
<br><br>
<div class="row">    

{% if cars %}
    
{% for car in cars %}
        <div class="col-lg-6">
            <article>
                <header>
                    <h2>{{ car.make }}</h2>
                </header>
                <a href="{{ path('car_view', {id:car.id}) }}">
                    <img src="{{ asset('uploads/images/cars/' ~ car.image ) }}" width="400px" height="200px">
                </a>

                <p class="author">
                    Date Added: {{ car.dateAdded|date("F jS \\a\\t g:ia") }}
                </p>

                <p class="author">
                    Author: {{ car.author.username }}
                </p>
                <footer>
                    <a class="btn btn-primary btn-xs" href="{{ path('car_view', {id: car.id}) }}">View</a>
                </footer>
            </article>
        </div>

    {% endfor %}

{% endif %}

</div>
    
{% endblock %}
